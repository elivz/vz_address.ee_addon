jQuery(function(e){e(".vz_address select").selectToAutocomplete()});
(function(e){var c={sort:!1,"sort-attr":"data-priority","sort-desc":!1,autoselect:!0,"alternative-spellings":!0,"alternative-spellings-attr":"data-alternative-spellings","remove-valueless-options":!0,"copy-attributes-to-text-field":!0,"autocomplete-plugin":"jquery_ui","relevancy-sorting":!0,"relevancy-sorting-partial-match-value":1,"relevancy-sorting-strict-match-value":5,"relevancy-sorting-booster-attr":"data-relevancy-booster",minLength:0,delay:0,autoFocus:!0,handle_invalid_input:function(a){var c=
"option:selected:first";a.settings["remove-valueless-options"]&&(c='option:selected[value!=""]:first');a.$text_field.val(a.$select_field.find(c).text())},handle_select_field:function(a){return a.hide()},insert_text_field:function(a){var f=e('<input type="text"></input>');if(c["copy-attributes-to-text-field"]){for(var d={},k=a.$select_field[0].attributes,b=0;b<k.length;b++){var g=k[b].nodeName,h=k[b].nodeValue;"name"!==g&&"id"!==g&&"undefined"!==typeof a.$select_field.attr(g)&&(d[g]=h)}f.attr(d)}f.blur(function(){var b=
a.$select_field.find("option").map(function(a,b){return e(b).text()});0>e.inArray(f.val(),b)&&"function"===typeof c.handle_invalid_input&&c.handle_invalid_input(a)});a.settings.autoselect&&f.click(function(){this.select()});d="option:selected:first";a.settings["remove-valueless-options"]&&(d='option:selected[value!=""]:first');return f.val(a.$select_field.find(d).text()).insertAfter(a.$select_field)},extract_options:function(a){var f=[];a=a.find("option");var d=a.length;a.each(function(){var a=e(this),
b={"real-value":a.attr("value"),label:a.text()};if(!c["remove-valueless-options"]||""!==b["real-value"]){b.matches=b.label;var g=a.attr(c["alternative-spellings-attr"]);g&&(b.matches+=" "+g);c.sort&&(g=parseInt(a.attr(c["sort-attr"]),10),b.weight=g?g:d);c["relevancy-sorting"]&&(b["relevancy-score"]=0,b["relevancy-score-booster"]=1,(a=parseFloat(a.attr(c["relevancy-sorting-booster-attr"])))&&(b["relevancy-score-booster"]=a));f.push(b)}});c.sort&&(c["sort-desc"]?f.sort(function(a,b){return b.weight-
a.weight}):f.sort(function(a,b){return a.weight-b.weight}));return f}},m={init:function(a){if(/msie/.test(navigator.userAgent.toLowerCase())&&6>=parseInt(navigator.appVersion,10))return this;c=e.extend(c,a);return this.each(function(){var a=e(this),d={$select_field:a,options:c.extract_options(a),settings:c};d.$text_field=c.insert_text_field(d);c.handle_select_field(a);if("string"===typeof c["autocomplete-plugin"])n[c["autocomplete-plugin"]](d);else c["autocomplete-plugin"](d)})}},n={jquery_ui:function(a){var c=
function(c){for(var b=c.split(" "),g=[],d=0;d<b.length;d++)if(0<b[d].length){var f={};f.partial=new RegExp(e.ui.autocomplete.escapeRegex(b[d]),"i");a.settings["relevancy-sorting"]&&(f.strict=new RegExp("^"+e.ui.autocomplete.escapeRegex(b[d]),"i"));g.push(f)}return e.grep(a.options,function(b){var d=0;if(a.settings["relevancy-sorting"])var f=!1,e=b.matches.split(" ");for(var h=0;h<g.length;h++)if(g[h].partial.test(b.matches)&&d++,a.settings["relevancy-sorting"])for(var l=0;l<e.length;l++)if(g[h].strict.test(e[l])){f=
!0;break}a.settings["relevancy-sorting"]&&(e=0+d*a.settings["relevancy-sorting-partial-match-value"],f&&(e+=a.settings["relevancy-sorting-strict-match-value"]),e*=b["relevancy-score-booster"],b["relevancy-score"]=e);return!c||g.length===d})},d=function(c){if(c)a.$select_field.val()!==c["real-value"]&&(a.$select_field.val(c["real-value"]),a.$select_field.change());else{c=a.$text_field.val().toLowerCase();for(var b={"real-value":!1},d=0;d<a.options.length;d++)if(c===a.options[d].label.toLowerCase()){b=
a.options[d];break}a.$select_field.val()!==b["real-value"]&&(a.$select_field.val(b["real-value"]||""),a.$select_field.change());b["real-value"]&&a.$text_field.val(b.label);"function"===typeof a.settings.handle_invalid_input&&""===a.$select_field.val()&&a.settings.handle_invalid_input(a)}};a.$text_field.autocomplete({minLength:a.settings.minLength,delay:a.settings.delay,autoFocus:a.settings.autoFocus,source:function(d,b){var e=c(d.term);a.settings["relevancy-sorting"]&&(e=e.sort(function(a,b){return b["relevancy-score"]==
a["relevancy-score"]?b.label<a.label?1:-1:b["relevancy-score"]-a["relevancy-score"]}));b(e)},select:function(a,b){d(b.item)},change:function(a,b){d(b.item)}});a.$text_field.parents("form:first").submit(function(){d()});d()}};e.fn.selectToAutocomplete=function(a){if(m[a])return m[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)e.error("Method "+a+" does not exist on jQuery.fn.selectToAutocomplete");else return m.init.apply(this,arguments)}})(jQuery);